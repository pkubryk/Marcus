{
  "name": "Spec Before Code",
  "version": "1.0.0",
  "description": "Ensures a spec exists before code is written",
  "when": {
    "type": "preToolUse",
    "toolTypes": ["write"]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Before writing code, verify that a Layer 3 spec (requirements.md, design.md, tasks.md) exists in the package's .kiro/specs/ directory for the feature being implemented. If no spec exists, warn the user that code should not be written without a spec. This rule does NOT apply to: steering files, spec documents themselves, hook files, configuration files (pyproject.toml, .env, etc.), documentation in docs/, or test fixtures."
  }
}